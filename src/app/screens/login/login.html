<div class="flex min-h-screen bg-gray-50">
  <!-- Left Side: Image + Wave -->
  <div class="hidden lg:flex lg:w-1/2 relative">
    <div class="absolute inset-0 bg-blue-600 rounded-r-3xl overflow-hidden">
      <img
        src="https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
        alt="Bible Study" class="w-full h-full object-cover opacity-90">
    </div>
    <div class="absolute inset-0 flex items-center justify-center">
      <div class="text-white text-center max-w-md px-8">
        <h1 class="text-4xl font-bold mb-4">Grow in Faith</h1>
        <p class="text-lg opacity-90">Test your knowledge. Deepen your walk.</p>
      </div>
    </div>
  </div>

  <!-- Right Side: Form -->
  <div class="flex-1 flex items-center justify-center p-8">
    <div class="w-full max-w-md">
      <!-- Logo -->
      <div class="text-center mb-6">
        <h2 class="text-3xl font-bold text-blue-700">Quiz</h2>
      </div>

      <!-- Toggle Switch -->
      <div class="flex bg-gray-100 rounded-xl p-1 mb-8 w-full max-w-sm mx-auto">
        <button (click)="setMode('signup')" class="cursor-pointer" [class]="mode === 'signup'
                ? 'bg-white text-blue-700 shadow font-medium py-2 px-4 rounded-lg w-full'
                : 'text-gray-600 font-medium py-2 px-4 rounded-lg w-full'">
          Sign Up
        </button>
        <button (click)="setMode('signin')" class="cursor-pointer" [class]="mode === 'signin'
                ? 'bg-white text-blue-700 shadow font-medium py-2 px-4 rounded-lg w-full'
                : 'text-gray-600 font-medium py-2 px-4 rounded-lg w-full'">
          Sign In
        </button>
      </div>

      <!-- Heading -->
      <h1 class="text-3xl font-bold text-gray-900 mb-2 text-center">
        @if (mode === 'signup') { Create New Account } 
        @else { Welcome Back }
      </h1>
      <p class="text-gray-600 mb-8 text-center">
        @if (mode === 'signup') {
        Join us to create and play Bible quizzes
        } @else {
        Sign in to continue
        }
      </p>

      <!-- Form -->
      <form [formGroup]="authForm" (ngSubmit)="onSubmit()" class="space-y-6">
        @if (mode === 'signup') {
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
            <input type="text" formControlName="firstName"
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            @if (authForm.get('firstName')?.invalid && authForm.get('firstName')?.touched) {
            <div class="text-red-500 text-xs mt-1">First name is required.</div>
            }
          </div>

          <!-- Last Name -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
            <input type="text" formControlName="lastName"
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            @if (authForm.get('lastName')?.invalid && authForm.get('lastName')?.touched) {
            <div class="text-red-500 text-xs mt-1">Last name is required.</div>
            }
          </div>
        </div>
        }

        <!-- Mobile Number (Both Modes) -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Mobile Number</label>
          <div class="flex">
            <span class="px-4 py-3 bg-gray-100 border-y border-l border-gray-300 rounded-l-xl text-gray-500 inline-flex items-center">+91</span>
            <input type="tel" formControlName="mobile" placeholder="9876543210" type="number" maxlength="10"
              oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
              class="flex-1 px-4 py-3 border border-gray-300 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          </div>
          @if (authForm.get('mobile')?.invalid && authForm.get('mobile')?.touched) {
          <div class="text-red-500 text-xs mt-1">{{ getMobileError() }}</div>
          }
        </div>

        <!-- Password -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
          <input type="password" formControlName="password"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          @if (authForm.get('password')?.invalid && authForm.get('password')?.touched) {
          <div class="text-red-500 text-xs mt-1">Password must be at least 6 characters.</div>
          }
        </div>

        <!-- Submit Button -->
        <button type="submit" [disabled]="authForm.invalid"
          class="w-full bg-blue-600 text-white py-3 rounded-xl font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition 
          transform hover:-translate-y-0.5 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
          @if (mode === 'signup') {
          Create Account
          } @else {
          Sign In
          }
        </button>
      </form>

      <!-- Toggle Link -->
      <p class="text-center text-sm text-gray-600 mt-6">
        @if (mode === 'signup') {
        Already have an account?
        <button (click)="toggleMode()" class="text-blue-600 font-medium hover:underline focus:outline-none"> Sign In
        </button>
        } @else {
        Don't have an account?
        <button (click)="toggleMode()" class="text-blue-600 font-medium hover:underline focus:outline-none"> Sign Up
        </button>
        }
      </p>
    </div>
  </div>
</div>